<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>ARCH Modeling &#8212; arch 4.0+21.g822563f documentation</title>
    
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0+21.g822563f',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Forecasting" href="forecasting.html" />
    <link rel="prev" title="Introduction to ARCH Models" href="introduction.html" />
  
   

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="forecasting.html" title="Forecasting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction to ARCH Models"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">arch 4.0+21.g822563f documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="univariate.html" accesskey="U">Univariate Volatility Models</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
        <a href="
    ../index.html" class="text-logo">arch 4.0</a>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="univariate.html">Univariate Volatility Models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="forecasting.html">Forecasting</a></li>
<li class="toctree-l2"><a class="reference internal" href="univariate_volatility_forecasting.html">Forecasting Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="mean.html">Mean Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="volatility.html">Volatility Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="univariate_using_fixed_variance.html">Using the Fixed Variance Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="distribution.html">Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="background.html">Background and References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bootstrap/bootstrap.html">Bootstrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../multiple-comparison/multiple-comparisons.html">Multiple Comparison Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unitroot/unitroot.html">Unit Root Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Change Log</a></li>
</ul>

    
  </div>
</div>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
                <li><a href="univariate.html">Univariate Volatility Models</a></li>
              
              <li>ARCH Modeling</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="arch-modeling">
<h1>ARCH Modeling<a class="headerlink" href="#arch-modeling" title="Permalink to this headline">¶</a></h1>
<p><em>This setup code is required to run in an IPython notebook</em></p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="nn">seaborn</span>
<span class="n">seaborn</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">)</span>
<span class="n">seaborn</span><span class="o">.</span><span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;savefig.dpi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">90</span>
</pre></div>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>These examples will all make use of financial data from Yahoo! Finance
imported using <code class="docutils literal"><span class="pre">pandas-datareader</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">import</span> <span class="nn">pandas_datareader.data</span> <span class="k">as</span> <span class="nn">web</span>
<span class="n">st</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1990</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">en</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">get_data_yahoo</span><span class="p">(</span><span class="s1">&#39;^GSPC&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">st</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">en</span><span class="p">)</span>
<span class="n">returns</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Adj Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">figure</span> <span class="o">=</span> <span class="n">returns</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/output_5_01.png" src="../_images/output_5_01.png" />
<div class="section" id="specifying-common-models">
<h3>Specifying Common Models<a class="headerlink" href="#specifying-common-models" title="Permalink to this headline">¶</a></h3>
<p>The simplest way to specify a model is to use the model constructor
<code class="docutils literal"><span class="pre">arch.arch_model</span></code> which can specify most common models. The simplest
invocation of <code class="docutils literal"><span class="pre">arch</span></code> will return a model with a constant mean,
GARCH(1,1) volatility process and normally distributed errors.</p>
<div class="math">
\[r_t  =  \mu + \epsilon_t\]</div>
<div class="math">
\[\sigma^2_t   =  \omega + \alpha \epsilon_{t-1}^2 + \beta \sigma_{t-1}^2\]</div>
<div class="math">
\[\epsilon_t  =  \sigma_t e_t,\,\,\, e_t  \sim  N(0,1)\]</div>
<p>The model is estimated by calling <code class="docutils literal"><span class="pre">fit</span></code>. The optional inputs <code class="docutils literal"><span class="pre">iter</span></code>
controls the frequency of output form the optimizer, and <code class="docutils literal"><span class="pre">disp</span></code>
controls whether convergence information is returned. The results class
returned offers direct access to the estimated parameters and related
quantities, as well as a <code class="docutils literal"><span class="pre">summary</span></code> of the estimation results.</p>
</div>
</div>
<div class="section" id="garch-with-a-constant-mean">
<h2>GARCH (with a Constant Mean)<a class="headerlink" href="#garch-with-a-constant-mean" title="Permalink to this headline">¶</a></h2>
<p>The default set of options produces a model with a constant mean,
GARCH(1,1) conditional variance and normal errors.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arch</span> <span class="k">import</span> <span class="n">arch_model</span>
<span class="n">am</span> <span class="o">=</span> <span class="n">arch_model</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">update_freq</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Iteration</span><span class="p">:</span>      <span class="mi">5</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>     <span class="mi">39</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8791.774500116655</span>
<span class="n">Iteration</span><span class="p">:</span>     <span class="mi">10</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>     <span class="mi">74</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8788.102549023128</span>
<span class="n">Optimization</span> <span class="n">terminated</span> <span class="n">successfully</span><span class="o">.</span>    <span class="p">(</span><span class="n">Exit</span> <span class="n">mode</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">Current</span> <span class="n">function</span> <span class="n">value</span><span class="p">:</span> <span class="mf">8788.10239792</span>
            <span class="n">Iterations</span><span class="p">:</span> <span class="mi">11</span>
            <span class="n">Function</span> <span class="n">evaluations</span><span class="p">:</span> <span class="mi">80</span>
            <span class="n">Gradient</span> <span class="n">evaluations</span><span class="p">:</span> <span class="mi">11</span>
                     <span class="n">Constant</span> <span class="n">Mean</span> <span class="o">-</span> <span class="n">GARCH</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">==============================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>              <span class="n">Adj</span> <span class="n">Close</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                      <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>             <span class="n">Constant</span> <span class="n">Mean</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                 <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>                      <span class="n">GARCH</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>               <span class="o">-</span><span class="mf">8788.10</span>
<span class="n">Distribution</span><span class="p">:</span>                  <span class="n">Normal</span>   <span class="n">AIC</span><span class="p">:</span>                           <span class="mf">17584.2</span>
<span class="n">Method</span><span class="p">:</span>            <span class="n">Maximum</span> <span class="n">Likelihood</span>   <span class="n">BIC</span><span class="p">:</span>                           <span class="mf">17611.4</span>
                                        <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                 <span class="mi">6552</span>
<span class="n">Date</span><span class="p">:</span>                <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>   <span class="n">Df</span> <span class="n">Residuals</span><span class="p">:</span>                     <span class="mi">6548</span>
<span class="n">Time</span><span class="p">:</span>                        <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">33</span>   <span class="n">Df</span> <span class="n">Model</span><span class="p">:</span>                            <span class="mi">4</span>
                                 <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">mu</span>             <span class="mf">0.0558</span>  <span class="mf">9.923e-03</span>      <span class="mf">5.626</span>  <span class="mf">1.844e-08</span> <span class="p">[</span><span class="mf">3.638e-02</span><span class="p">,</span><span class="mf">7.527e-02</span><span class="p">]</span>
                              <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">omega</span>          <span class="mf">0.0125</span>  <span class="mf">3.312e-03</span>      <span class="mf">3.762</span>  <span class="mf">1.686e-04</span> <span class="p">[</span><span class="mf">5.968e-03</span><span class="p">,</span><span class="mf">1.895e-02</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.0820</span>  <span class="mf">1.097e-02</span>      <span class="mf">7.475</span>  <span class="mf">7.694e-14</span>   <span class="p">[</span><span class="mf">6.053e-02</span><span class="p">,</span>  <span class="mf">0.104</span><span class="p">]</span>
<span class="n">beta</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>        <span class="mf">0.9077</span>  <span class="mf">1.194e-02</span>     <span class="mf">76.008</span>      <span class="mf">0.000</span>     <span class="p">[</span>  <span class="mf">0.884</span><span class="p">,</span>  <span class="mf">0.931</span><span class="p">]</span>
<span class="o">============================================================================</span>

<span class="n">Covariance</span> <span class="n">estimator</span><span class="p">:</span> <span class="n">robust</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">plot()</span></code> can be used to quickly visualize the standardized residuals
and conditional volatility.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">annualize</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/output_12_0.png" src="../_images/output_12_0.png" />
</div>
<div class="section" id="gjr-garch">
<h2>GJR-GARCH<a class="headerlink" href="#gjr-garch" title="Permalink to this headline">¶</a></h2>
<p>Additional inputs can be used to construct other models. This example
sets <code class="docutils literal"><span class="pre">o</span></code> to 1, which includes one lag of an asymmetric shock which
transforms a GARCH model into a GJR-GARCH model with variance dynamics
given by</p>
<div class="math">
\[\sigma^2_t   =  \omega + \alpha \epsilon_{t-1}^2 + \gamma \epsilon_{t-1}^2 I_{[\epsilon_{t-1}&lt;0]}+ \beta \sigma_{t-1}^2\]</div>
<p>where <span class="math">\(I\)</span> is an indicator function that takes the value 1 when its
argument is true.</p>
<p>The log likelihood improves substantially with the introduction of an
asymmetric term, and the parameter estimate is highly significant.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">am</span> <span class="o">=</span> <span class="n">arch_model</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">o</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">update_freq</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>                   <span class="n">Constant</span> <span class="n">Mean</span> <span class="o">-</span> <span class="n">GJR</span><span class="o">-</span><span class="n">GARCH</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">==============================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>              <span class="n">Adj</span> <span class="n">Close</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                      <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>             <span class="n">Constant</span> <span class="n">Mean</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                 <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>                  <span class="n">GJR</span><span class="o">-</span><span class="n">GARCH</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>               <span class="o">-</span><span class="mf">8672.60</span>
<span class="n">Distribution</span><span class="p">:</span>                  <span class="n">Normal</span>   <span class="n">AIC</span><span class="p">:</span>                           <span class="mf">17355.2</span>
<span class="n">Method</span><span class="p">:</span>            <span class="n">Maximum</span> <span class="n">Likelihood</span>   <span class="n">BIC</span><span class="p">:</span>                           <span class="mf">17389.1</span>
                                        <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                 <span class="mi">6552</span>
<span class="n">Date</span><span class="p">:</span>                <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>   <span class="n">Df</span> <span class="n">Residuals</span><span class="p">:</span>                     <span class="mi">6547</span>
<span class="n">Time</span><span class="p">:</span>                        <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">34</span>   <span class="n">Df</span> <span class="n">Model</span><span class="p">:</span>                            <span class="mi">5</span>
                                 <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">mu</span>             <span class="mf">0.0254</span>  <span class="mf">9.751e-03</span>      <span class="mf">2.606</span>  <span class="mf">9.155e-03</span> <span class="p">[</span><span class="mf">6.302e-03</span><span class="p">,</span><span class="mf">4.453e-02</span><span class="p">]</span>
                               <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">=============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>       <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">-----------------------------------------------------------------------------</span>
<span class="n">omega</span>          <span class="mf">0.0161</span>  <span class="mf">3.668e-03</span>      <span class="mf">4.392</span>  <span class="mf">1.123e-05</span>  <span class="p">[</span><span class="mf">8.920e-03</span><span class="p">,</span><span class="mf">2.330e-02</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.0000</span>  <span class="mf">5.520e-03</span>      <span class="mf">0.000</span>      <span class="mf">1.000</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.082e-02</span><span class="p">,</span><span class="mf">1.082e-02</span><span class="p">]</span>
<span class="n">gamma</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.1457</span>  <span class="mf">2.044e-02</span>      <span class="mf">7.127</span>  <span class="mf">1.025e-12</span>      <span class="p">[</span>  <span class="mf">0.106</span><span class="p">,</span>  <span class="mf">0.186</span><span class="p">]</span>
<span class="n">beta</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>        <span class="mf">0.9119</span>  <span class="mf">1.247e-02</span>     <span class="mf">73.107</span>      <span class="mf">0.000</span>      <span class="p">[</span>  <span class="mf">0.887</span><span class="p">,</span>  <span class="mf">0.936</span><span class="p">]</span>
<span class="o">=============================================================================</span>

<span class="n">Covariance</span> <span class="n">estimator</span><span class="p">:</span> <span class="n">robust</span>
</pre></div>
</div>
</div>
<div class="section" id="tarch-zarch">
<h2>TARCH/ZARCH<a class="headerlink" href="#tarch-zarch" title="Permalink to this headline">¶</a></h2>
<p>TARCH (also known as ZARCH) model the <em>volatility</em> using absolute
values. This model is specified using <code class="docutils literal"><span class="pre">power=1.0</span></code> since the default
power, 2, corresponds to variance processes that evolve in squares.</p>
<p>The volatility process in a TARCH model is given by</p>
<div class="math">
\[\sigma_t  =  \omega + \alpha \left|\epsilon_{t-1}\right| + \gamma \left|\epsilon_{t-1}\right| I_{[\epsilon_{t-1}&lt;0]}+ \beta \sigma_{t-1}\]</div>
<p>More general models with other powers (<span class="math">\(\kappa\)</span>) have volatility
dynamics given by</p>
<div class="math">
\[\sigma_t^\kappa   = \omega + \alpha \left|\epsilon_{t-1}\right|^\kappa + \gamma \left|\epsilon_{t-1}\right|^\kappa I_{[\epsilon_{t-1}&lt;0]}+ \beta \sigma_{t-1}^\kappa\]</div>
<p>where the conditional variance is
<span class="math">\(\left(\sigma_t^\kappa\right)^{2/\kappa}\)</span>.</p>
<p>The TARCH model also improves the fit, although the change in the log
likelihood is less dramatic.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">am</span> <span class="o">=</span> <span class="n">arch_model</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">o</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">power</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">update_freq</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Iteration</span><span class="p">:</span>      <span class="mi">5</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>     <span class="mi">46</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8681.97568934476</span>
<span class="n">Iteration</span><span class="p">:</span>     <span class="mi">10</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>     <span class="mi">86</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8656.294806089767</span>
<span class="n">Iteration</span><span class="p">:</span>     <span class="mi">15</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>    <span class="mi">125</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8655.188052112766</span>
<span class="n">Optimization</span> <span class="n">terminated</span> <span class="n">successfully</span><span class="o">.</span>    <span class="p">(</span><span class="n">Exit</span> <span class="n">mode</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">Current</span> <span class="n">function</span> <span class="n">value</span><span class="p">:</span> <span class="mf">8655.18802807</span>
            <span class="n">Iterations</span><span class="p">:</span> <span class="mi">17</span>
            <span class="n">Function</span> <span class="n">evaluations</span><span class="p">:</span> <span class="mi">140</span>
            <span class="n">Gradient</span> <span class="n">evaluations</span><span class="p">:</span> <span class="mi">17</span>
                  <span class="n">Constant</span> <span class="n">Mean</span> <span class="o">-</span> <span class="n">TARCH</span><span class="o">/</span><span class="n">ZARCH</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">==============================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>              <span class="n">Adj</span> <span class="n">Close</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                      <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>             <span class="n">Constant</span> <span class="n">Mean</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                 <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>                <span class="n">TARCH</span><span class="o">/</span><span class="n">ZARCH</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>               <span class="o">-</span><span class="mf">8655.19</span>
<span class="n">Distribution</span><span class="p">:</span>                  <span class="n">Normal</span>   <span class="n">AIC</span><span class="p">:</span>                           <span class="mf">17320.4</span>
<span class="n">Method</span><span class="p">:</span>            <span class="n">Maximum</span> <span class="n">Likelihood</span>   <span class="n">BIC</span><span class="p">:</span>                           <span class="mf">17354.3</span>
                                        <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                 <span class="mi">6552</span>
<span class="n">Date</span><span class="p">:</span>                <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>   <span class="n">Df</span> <span class="n">Residuals</span><span class="p">:</span>                     <span class="mi">6547</span>
<span class="n">Time</span><span class="p">:</span>                        <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">34</span>   <span class="n">Df</span> <span class="n">Model</span><span class="p">:</span>                            <span class="mi">5</span>
                                 <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">mu</span>             <span class="mf">0.0197</span>  <span class="mf">4.341e-03</span>      <span class="mf">4.538</span>  <span class="mf">5.667e-06</span> <span class="p">[</span><span class="mf">1.119e-02</span><span class="p">,</span><span class="mf">2.821e-02</span><span class="p">]</span>
                               <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">=============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>       <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">-----------------------------------------------------------------------------</span>
<span class="n">omega</span>          <span class="mf">0.0211</span>  <span class="mf">3.589e-03</span>      <span class="mf">5.891</span>  <span class="mf">3.832e-09</span>  <span class="p">[</span><span class="mf">1.411e-02</span><span class="p">,</span><span class="mf">2.818e-02</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>   <span class="mf">5.9723e-03</span>  <span class="mf">5.938e-03</span>      <span class="mf">1.006</span>      <span class="mf">0.314</span> <span class="p">[</span><span class="o">-</span><span class="mf">5.665e-03</span><span class="p">,</span><span class="mf">1.761e-02</span><span class="p">]</span>
<span class="n">gamma</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.1349</span>  <span class="mf">1.421e-02</span>      <span class="mf">9.495</span>  <span class="mf">2.195e-21</span>      <span class="p">[</span>  <span class="mf">0.107</span><span class="p">,</span>  <span class="mf">0.163</span><span class="p">]</span>
<span class="n">beta</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>        <span class="mf">0.9228</span>  <span class="mf">8.562e-03</span>    <span class="mf">107.786</span>      <span class="mf">0.000</span>      <span class="p">[</span>  <span class="mf">0.906</span><span class="p">,</span>  <span class="mf">0.940</span><span class="p">]</span>
<span class="o">=============================================================================</span>

<span class="n">Covariance</span> <span class="n">estimator</span><span class="p">:</span> <span class="n">robust</span>
</pre></div>
</div>
</div>
<div class="section" id="student-s-t-errors">
<h2>Student's T Errors<a class="headerlink" href="#student-s-t-errors" title="Permalink to this headline">¶</a></h2>
<p>Financial returns are often heavy tailed, and a Student's T distribution
is a simple method to capture this feature. The call to <code class="docutils literal"><span class="pre">arch</span></code> changes
the distribution from a Normal to a Students's T.</p>
<p>The standardized residuals appear to be heavy tailed with an estimated
degree of freedom near 10. The log-likelihood also shows a large
increase.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">am</span> <span class="o">=</span> <span class="n">arch_model</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">o</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">power</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="s1">&#39;StudentsT&#39;</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">update_freq</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Iteration</span><span class="p">:</span>      <span class="mi">5</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>     <span class="mi">50</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8592.43156639778</span>
<span class="n">Iteration</span><span class="p">:</span>     <span class="mi">10</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>     <span class="mi">95</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8564.682574204755</span>
<span class="n">Iteration</span><span class="p">:</span>     <span class="mi">15</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>    <span class="mi">139</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8564.232620019455</span>
<span class="n">Iteration</span><span class="p">:</span>     <span class="mi">20</span><span class="p">,</span>   <span class="n">Func</span><span class="o">.</span> <span class="n">Count</span><span class="p">:</span>    <span class="mi">180</span><span class="p">,</span>   <span class="n">Neg</span><span class="o">.</span> <span class="n">LLF</span><span class="p">:</span> <span class="mf">8564.231390133198</span>
<span class="n">Optimization</span> <span class="n">terminated</span> <span class="n">successfully</span><span class="o">.</span>    <span class="p">(</span><span class="n">Exit</span> <span class="n">mode</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">Current</span> <span class="n">function</span> <span class="n">value</span><span class="p">:</span> <span class="mf">8564.23138967</span>
            <span class="n">Iterations</span><span class="p">:</span> <span class="mi">20</span>
            <span class="n">Function</span> <span class="n">evaluations</span><span class="p">:</span> <span class="mi">182</span>
            <span class="n">Gradient</span> <span class="n">evaluations</span><span class="p">:</span> <span class="mi">20</span>
                     <span class="n">Constant</span> <span class="n">Mean</span> <span class="o">-</span> <span class="n">TARCH</span><span class="o">/</span><span class="n">ZARCH</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">====================================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>                    <span class="n">Adj</span> <span class="n">Close</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                      <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>                   <span class="n">Constant</span> <span class="n">Mean</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                 <span class="o">-</span><span class="mf">0.000</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>                      <span class="n">TARCH</span><span class="o">/</span><span class="n">ZARCH</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>               <span class="o">-</span><span class="mf">8564.23</span>
<span class="n">Distribution</span><span class="p">:</span>      <span class="n">Standardized</span> <span class="n">Student</span><span class="s1">&#39;s t   AIC:                           17140.5</span>
<span class="n">Method</span><span class="p">:</span>                  <span class="n">Maximum</span> <span class="n">Likelihood</span>   <span class="n">BIC</span><span class="p">:</span>                           <span class="mf">17181.2</span>
                                              <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                 <span class="mi">6552</span>
<span class="n">Date</span><span class="p">:</span>                      <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>   <span class="n">Df</span> <span class="n">Residuals</span><span class="p">:</span>                     <span class="mi">6546</span>
<span class="n">Time</span><span class="p">:</span>                              <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">34</span>   <span class="n">Df</span> <span class="n">Model</span><span class="p">:</span>                            <span class="mi">6</span>
                                 <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">mu</span>             <span class="mf">0.0343</span>  <span class="mf">4.326e-03</span>      <span class="mf">7.921</span>  <span class="mf">2.352e-15</span> <span class="p">[</span><span class="mf">2.579e-02</span><span class="p">,</span><span class="mf">4.275e-02</span><span class="p">]</span>
                               <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">=============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>       <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">-----------------------------------------------------------------------------</span>
<span class="n">omega</span>          <span class="mf">0.0171</span>  <span class="mf">3.062e-03</span>      <span class="mf">5.576</span>  <span class="mf">2.465e-08</span>  <span class="p">[</span><span class="mf">1.107e-02</span><span class="p">,</span><span class="mf">2.308e-02</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>   <span class="mf">2.7187e-03</span>  <span class="mf">5.182e-03</span>      <span class="mf">0.525</span>      <span class="mf">0.600</span> <span class="p">[</span><span class="o">-</span><span class="mf">7.438e-03</span><span class="p">,</span><span class="mf">1.288e-02</span><span class="p">]</span>
<span class="n">gamma</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.1403</span>  <span class="mf">1.381e-02</span>     <span class="mf">10.155</span>  <span class="mf">3.150e-24</span>      <span class="p">[</span>  <span class="mf">0.113</span><span class="p">,</span>  <span class="mf">0.167</span><span class="p">]</span>
<span class="n">beta</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>        <span class="mf">0.9271</span>  <span class="mf">7.699e-03</span>    <span class="mf">120.410</span>      <span class="mf">0.000</span>      <span class="p">[</span>  <span class="mf">0.912</span><span class="p">,</span>  <span class="mf">0.942</span><span class="p">]</span>
                              <span class="n">Distribution</span>
<span class="o">========================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>  <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">------------------------------------------------------------------------</span>
<span class="n">nu</span>             <span class="mf">7.9801</span>      <span class="mf">0.789</span>     <span class="mf">10.120</span>  <span class="mf">4.522e-24</span> <span class="p">[</span>  <span class="mf">6.434</span><span class="p">,</span>  <span class="mf">9.526</span><span class="p">]</span>
<span class="o">========================================================================</span>

<span class="n">Covariance</span> <span class="n">estimator</span><span class="p">:</span> <span class="n">robust</span>
</pre></div>
</div>
</div>
<div class="section" id="fixing-parameters">
<h2>Fixing Parameters<a class="headerlink" href="#fixing-parameters" title="Permalink to this headline">¶</a></h2>
<p>In some circumstances, fixed rather than estimated parameters might be
of interest. A model-result-like class can be generated using the
<code class="docutils literal"><span class="pre">fix()</span></code> method. The class returend is identical to the usual model
result class except that information about inference (standard errors,
t-stats, etc) is not available.</p>
<p>In the example, I fix the parameters to a symmetric version of the
previously estimated model.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">fixed_res</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">fix</span><span class="p">([</span><span class="mf">0.0235</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.9382</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fixed_res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>                      <span class="n">Constant</span> <span class="n">Mean</span> <span class="o">-</span> <span class="n">TARCH</span><span class="o">/</span><span class="n">ZARCH</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">=====================================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>                     <span class="n">Adj</span> <span class="n">Close</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                          <span class="o">--</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>                    <span class="n">Constant</span> <span class="n">Mean</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                     <span class="o">--</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>                       <span class="n">TARCH</span><span class="o">/</span><span class="n">ZARCH</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>               <span class="o">-</span><span class="mf">8737.43</span>
<span class="n">Distribution</span><span class="p">:</span>       <span class="n">Standardized</span> <span class="n">Student</span><span class="s1">&#39;s t   AIC:                           17486.9</span>
<span class="n">Method</span><span class="p">:</span>            <span class="n">User</span><span class="o">-</span><span class="n">specified</span> <span class="n">Parameters</span>   <span class="n">BIC</span><span class="p">:</span>                           <span class="mf">17527.6</span>
                                               <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                 <span class="mi">6552</span>
<span class="n">Date</span><span class="p">:</span>                       <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>
<span class="n">Time</span><span class="p">:</span>                               <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">34</span>
      <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">=====================</span>
                 <span class="n">coef</span>
<span class="o">---------------------</span>
<span class="n">mu</span>             <span class="mf">0.0235</span>
   <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">=====================</span>
                 <span class="n">coef</span>
<span class="o">---------------------</span>
<span class="n">omega</span>          <span class="mf">0.0100</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.0600</span>
<span class="n">gamma</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.0000</span>
<span class="n">beta</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>        <span class="mf">0.9382</span>
     <span class="n">Distribution</span>
<span class="o">=====================</span>
                 <span class="n">coef</span>
<span class="o">---------------------</span>
<span class="n">nu</span>             <span class="mf">8.0000</span>
<span class="o">=====================</span>

<span class="n">Results</span> <span class="n">generated</span> <span class="k">with</span> <span class="n">user</span><span class="o">-</span><span class="n">specified</span> <span class="n">parameters</span><span class="o">.</span>
<span class="n">Since</span> <span class="n">the</span> <span class="n">model</span> <span class="n">was</span> <span class="ow">not</span> <span class="n">estimated</span><span class="p">,</span> <span class="n">there</span> <span class="n">are</span> <span class="n">no</span> <span class="n">std</span><span class="o">.</span> <span class="n">errors</span><span class="o">.</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">res</span><span class="o">.</span><span class="n">conditional_volatility</span><span class="p">,</span><span class="n">fixed_res</span><span class="o">.</span><span class="n">conditional_volatility</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Estimated&#39;</span><span class="p">,</span> <span class="s1">&#39;Fixed&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x1d0b4cfd978</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/output_24_1.png" src="../_images/output_24_1.png" />
<div class="section" id="building-a-model-from-components">
<h3>Building a Model From Components<a class="headerlink" href="#building-a-model-from-components" title="Permalink to this headline">¶</a></h3>
<p>Models can also be systematically assembled from the three model
components:</p>
<ul class="simple">
<li>A mean model (<code class="docutils literal"><span class="pre">arch.mean</span></code>)<ul>
<li>Zero mean (<code class="docutils literal"><span class="pre">ZeroMean</span></code>) - useful if using residuals from a model
estimated separately</li>
<li>Constant mean (<code class="docutils literal"><span class="pre">ConstantMean</span></code>) - common for most liquid
financial assets</li>
<li>Autoregressive (<code class="docutils literal"><span class="pre">ARX</span></code>) with optional exogenous regressors</li>
<li>Heterogeneous (<code class="docutils literal"><span class="pre">HARX</span></code>) autoregression with optional exogenous
regressors</li>
<li>Exogenous regressors only (<code class="docutils literal"><span class="pre">LS</span></code>)</li>
</ul>
</li>
<li>A volatility process (<code class="docutils literal"><span class="pre">arch.volatility</span></code>)<ul>
<li>ARCH (<code class="docutils literal"><span class="pre">ARCH</span></code>)</li>
<li>GARCH (<code class="docutils literal"><span class="pre">GARCH</span></code>)</li>
<li>GJR-GARCH (<code class="docutils literal"><span class="pre">GARCH</span></code> using <code class="docutils literal"><span class="pre">o</span></code> argument)</li>
<li>TARCH/ZARCH (<code class="docutils literal"><span class="pre">GARCH</span></code> using <code class="docutils literal"><span class="pre">power</span></code> argument set to <code class="docutils literal"><span class="pre">1</span></code>)</li>
<li>Power GARCH and Asymmetric Power GARCH (<code class="docutils literal"><span class="pre">GARCH</span></code> using <code class="docutils literal"><span class="pre">power</span></code>)</li>
<li>Heterogeneous ARCH (<code class="docutils literal"><span class="pre">HARCH</span></code>)</li>
<li>Parameterless Models<ul>
<li>Exponentially Weighted Moving Average Variance, known as
RiskMetrics (<code class="docutils literal"><span class="pre">EWMAVariance</span></code>)</li>
<li>Weighted averages of EWMAs, known as the RiskMetrics 2006
methodology (<code class="docutils literal"><span class="pre">RiskMetrics2006</span></code>)</li>
</ul>
</li>
</ul>
</li>
<li>A distribution (<code class="docutils literal"><span class="pre">arch.distribution</span></code>)<ul>
<li>Normal (<code class="docutils literal"><span class="pre">Normal</span></code>)</li>
<li>Standardized Students's T (<code class="docutils literal"><span class="pre">StudentsT</span></code>)</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="mean-models">
<h2>Mean Models<a class="headerlink" href="#mean-models" title="Permalink to this headline">¶</a></h2>
<p>The first choice is the mean model. For many liquid financial assets, a
constant mean (or even zero) is adequate. For other series, such as
inflation, a more complicated model may be required. These examples make
use of Core CPI downloaded from the <a class="reference external" href="http://research.stlouisfed.org/fred2/">Federal Reserve Economic
Data</a> site.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">core_cpi</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">DataReader</span><span class="p">(</span><span class="s2">&quot;CPILFESL&quot;</span><span class="p">,</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1957</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ann_inflation</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">core_cpi</span><span class="o">.</span><span class="n">CPILFESL</span><span class="o">.</span><span class="n">pct_change</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">ann_inflation</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/output_29_01.png" src="../_images/output_29_01.png" />
<p>All mean models are initialized with constant variance and normal
errors. For <code class="docutils literal"><span class="pre">ARX</span></code> models, the <code class="docutils literal"><span class="pre">lags</span></code> argument specifies the lags to
include in the model.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arch.univariate</span> <span class="k">import</span> <span class="n">ARX</span>
<span class="n">ar</span> <span class="o">=</span> <span class="n">ARX</span><span class="p">(</span><span class="n">ann_inflation</span><span class="p">,</span> <span class="n">lags</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ar</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>                     <span class="n">AR</span> <span class="o">-</span> <span class="n">Constant</span> <span class="n">Variance</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">==============================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>               <span class="n">CPILFESL</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                       <span class="mf">0.991</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>                        <span class="n">AR</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                  <span class="mf">0.991</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>          <span class="n">Constant</span> <span class="n">Variance</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>               <span class="o">-</span><span class="mf">13.7025</span>
<span class="n">Distribution</span><span class="p">:</span>                  <span class="n">Normal</span>   <span class="n">AIC</span><span class="p">:</span>                           <span class="mf">37.4050</span>
<span class="n">Method</span><span class="p">:</span>            <span class="n">Maximum</span> <span class="n">Likelihood</span>   <span class="n">BIC</span><span class="p">:</span>                           <span class="mf">59.8738</span>
                                        <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                  <span class="mi">661</span>
<span class="n">Date</span><span class="p">:</span>                <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>   <span class="n">Df</span> <span class="n">Residuals</span><span class="p">:</span>                      <span class="mi">656</span>
<span class="n">Time</span><span class="p">:</span>                        <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">36</span>   <span class="n">Df</span> <span class="n">Model</span><span class="p">:</span>                            <span class="mi">5</span>
                                   <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">===============================================================================</span>
                   <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>       <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">-------------------------------------------------------------------------------</span>
<span class="n">Const</span>            <span class="mf">0.0424</span>  <span class="mf">2.196e-02</span>      <span class="mf">1.932</span>  <span class="mf">5.333e-02</span> <span class="p">[</span><span class="o">-</span><span class="mf">6.084e-04</span><span class="p">,</span><span class="mf">8.548e-02</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>      <span class="mf">1.1927</span>  <span class="mf">3.513e-02</span>     <span class="mf">33.954</span> <span class="mf">1.080e-252</span>      <span class="p">[</span>  <span class="mf">1.124</span><span class="p">,</span>  <span class="mf">1.262</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>     <span class="o">-</span><span class="mf">0.1803</span>  <span class="mf">4.122e-02</span>     <span class="o">-</span><span class="mf">4.374</span>  <span class="mf">1.221e-05</span>   <span class="p">[</span> <span class="o">-</span><span class="mf">0.261</span><span class="p">,</span><span class="o">-</span><span class="mf">9.951e-02</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>    <span class="o">-</span><span class="mf">0.0235</span>  <span class="mf">1.384e-02</span>     <span class="o">-</span><span class="mf">1.696</span>  <span class="mf">8.985e-02</span> <span class="p">[</span><span class="o">-</span><span class="mf">5.061e-02</span><span class="p">,</span><span class="mf">3.651e-03</span><span class="p">]</span>
                              <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">sigma2</span>         <span class="mf">0.0610</span>  <span class="mf">6.993e-03</span>      <span class="mf">8.728</span>  <span class="mf">2.603e-18</span> <span class="p">[</span><span class="mf">4.732e-02</span><span class="p">,</span><span class="mf">7.473e-02</span><span class="p">]</span>
<span class="o">============================================================================</span>

<span class="n">Covariance</span> <span class="n">estimator</span><span class="p">:</span> <span class="n">White</span><span class="s1">&#39;s Heteroskedasticity Consistent Estimator</span>
</pre></div>
</div>
</div>
<div class="section" id="volatility-processes">
<h2>Volatility Processes<a class="headerlink" href="#volatility-processes" title="Permalink to this headline">¶</a></h2>
<p>Volatility processes can be added a a mean model using the
<code class="docutils literal"><span class="pre">volatility</span></code> property. This example adds an ARCH(5) process to model
volatility. The arguments <code class="docutils literal"><span class="pre">iter</span></code> and <code class="docutils literal"><span class="pre">disp</span></code> are used in <code class="docutils literal"><span class="pre">fit()</span></code> to
suppress estimation output.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arch.univariate</span> <span class="k">import</span> <span class="n">ARCH</span><span class="p">,</span> <span class="n">GARCH</span>
<span class="n">ar</span><span class="o">.</span><span class="n">volatility</span> <span class="o">=</span> <span class="n">ARCH</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">ar</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">update_freq</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>                           <span class="n">AR</span> <span class="o">-</span> <span class="n">ARCH</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">==============================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>               <span class="n">CPILFESL</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                       <span class="mf">0.991</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>                        <span class="n">AR</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                  <span class="mf">0.991</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>                       <span class="n">ARCH</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>                <span class="mf">83.8949</span>
<span class="n">Distribution</span><span class="p">:</span>                  <span class="n">Normal</span>   <span class="n">AIC</span><span class="p">:</span>                          <span class="o">-</span><span class="mf">147.790</span>
<span class="n">Method</span><span class="p">:</span>            <span class="n">Maximum</span> <span class="n">Likelihood</span>   <span class="n">BIC</span><span class="p">:</span>                          <span class="o">-</span><span class="mf">102.852</span>
                                        <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                  <span class="mi">661</span>
<span class="n">Date</span><span class="p">:</span>                <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>   <span class="n">Df</span> <span class="n">Residuals</span><span class="p">:</span>                      <span class="mi">651</span>
<span class="n">Time</span><span class="p">:</span>                        <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">36</span>   <span class="n">Df</span> <span class="n">Model</span><span class="p">:</span>                           <span class="mi">10</span>
                                   <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">===============================================================================</span>
                   <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>       <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">-------------------------------------------------------------------------------</span>
<span class="n">Const</span>            <span class="mf">0.0270</span>  <span class="mf">2.204e-02</span>      <span class="mf">1.227</span>      <span class="mf">0.220</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.616e-02</span><span class="p">,</span><span class="mf">7.025e-02</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>      <span class="mf">1.0852</span>  <span class="mf">3.839e-02</span>     <span class="mf">28.265</span> <span class="mf">9.274e-176</span>      <span class="p">[</span>  <span class="mf">1.010</span><span class="p">,</span>  <span class="mf">1.160</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>     <span class="o">-</span><span class="mf">0.0753</span>  <span class="mf">4.153e-02</span>     <span class="o">-</span><span class="mf">1.814</span>  <span class="mf">6.969e-02</span>    <span class="p">[</span> <span class="o">-</span><span class="mf">0.157</span><span class="p">,</span><span class="mf">6.065e-03</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>    <span class="o">-</span><span class="mf">0.0211</span>  <span class="mf">1.191e-02</span>     <span class="o">-</span><span class="mf">1.772</span>  <span class="mf">7.642e-02</span> <span class="p">[</span><span class="o">-</span><span class="mf">4.444e-02</span><span class="p">,</span><span class="mf">2.240e-03</span><span class="p">]</span>
                              <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">omega</span>      <span class="mf">9.8438e-03</span>  <span class="mf">2.206e-03</span>      <span class="mf">4.463</span>  <span class="mf">8.077e-06</span> <span class="p">[</span><span class="mf">5.521e-03</span><span class="p">,</span><span class="mf">1.417e-02</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.1306</span>  <span class="mf">4.119e-02</span>      <span class="mf">3.171</span>  <span class="mf">1.521e-03</span>   <span class="p">[</span><span class="mf">4.987e-02</span><span class="p">,</span>  <span class="mf">0.211</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>       <span class="mf">0.2277</span>  <span class="mf">6.464e-02</span>      <span class="mf">3.522</span>  <span class="mf">4.284e-04</span>     <span class="p">[</span>  <span class="mf">0.101</span><span class="p">,</span>  <span class="mf">0.354</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>       <span class="mf">0.1698</span>  <span class="mf">7.115e-02</span>      <span class="mf">2.386</span>  <span class="mf">1.704e-02</span>   <span class="p">[</span><span class="mf">3.031e-02</span><span class="p">,</span>  <span class="mf">0.309</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>       <span class="mf">0.2635</span>  <span class="mf">8.307e-02</span>      <span class="mf">3.172</span>  <span class="mf">1.516e-03</span>     <span class="p">[</span>  <span class="mf">0.101</span><span class="p">,</span>  <span class="mf">0.426</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>       <span class="mf">0.1699</span>  <span class="mf">7.449e-02</span>      <span class="mf">2.281</span>  <span class="mf">2.253e-02</span>   <span class="p">[</span><span class="mf">2.393e-02</span><span class="p">,</span>  <span class="mf">0.316</span><span class="p">]</span>
<span class="o">============================================================================</span>

<span class="n">Covariance</span> <span class="n">estimator</span><span class="p">:</span> <span class="n">robust</span>
</pre></div>
</div>
<p>Plotting the standardized residuals and the conditional volatility shows
some large (in magnitude) errors, even when standardized.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/output_36_0.png" src="../_images/output_36_0.png" />
</div>
<div class="section" id="distributions">
<h2>Distributions<a class="headerlink" href="#distributions" title="Permalink to this headline">¶</a></h2>
<p>Finally the distribution can be changed from the default normal to a
standardized Student's T using the <code class="docutils literal"><span class="pre">distribution</span></code> property of a mean
model.</p>
<p>The Student's t distribution improves the model, and the degree of
freedom is estimated to be near 8.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arch.univariate</span> <span class="k">import</span> <span class="n">StudentsT</span>
<span class="n">ar</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="n">StudentsT</span><span class="p">()</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">ar</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">update_freq</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>                              <span class="n">AR</span> <span class="o">-</span> <span class="n">ARCH</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">====================================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>                     <span class="n">CPILFESL</span>   <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                       <span class="mf">0.991</span>
<span class="n">Mean</span> <span class="n">Model</span><span class="p">:</span>                              <span class="n">AR</span>   <span class="n">Adj</span><span class="o">.</span> <span class="n">R</span><span class="o">-</span><span class="n">squared</span><span class="p">:</span>                  <span class="mf">0.991</span>
<span class="n">Vol</span> <span class="n">Model</span><span class="p">:</span>                             <span class="n">ARCH</span>   <span class="n">Log</span><span class="o">-</span><span class="n">Likelihood</span><span class="p">:</span>                <span class="mf">89.5657</span>
<span class="n">Distribution</span><span class="p">:</span>      <span class="n">Standardized</span> <span class="n">Student</span><span class="s1">&#39;s t   AIC:                          -157.131</span>
<span class="n">Method</span><span class="p">:</span>                  <span class="n">Maximum</span> <span class="n">Likelihood</span>   <span class="n">BIC</span><span class="p">:</span>                          <span class="o">-</span><span class="mf">107.700</span>
                                              <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                  <span class="mi">661</span>
<span class="n">Date</span><span class="p">:</span>                      <span class="n">Thu</span><span class="p">,</span> <span class="n">Aug</span> <span class="mi">04</span> <span class="mi">2016</span>   <span class="n">Df</span> <span class="n">Residuals</span><span class="p">:</span>                      <span class="mi">650</span>
<span class="n">Time</span><span class="p">:</span>                              <span class="mi">17</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">36</span>   <span class="n">Df</span> <span class="n">Model</span><span class="p">:</span>                           <span class="mi">11</span>
                                   <span class="n">Mean</span> <span class="n">Model</span>
<span class="o">===============================================================================</span>
                   <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>       <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">-------------------------------------------------------------------------------</span>
<span class="n">Const</span>            <span class="mf">0.0283</span>  <span class="mf">2.251e-02</span>      <span class="mf">1.259</span>      <span class="mf">0.208</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.579e-02</span><span class="p">,</span><span class="mf">7.246e-02</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>      <span class="mf">1.0845</span>  <span class="mf">3.920e-02</span>     <span class="mf">27.666</span> <span class="mf">1.779e-168</span>      <span class="p">[</span>  <span class="mf">1.008</span><span class="p">,</span>  <span class="mf">1.161</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>     <span class="o">-</span><span class="mf">0.0691</span>  <span class="mf">4.292e-02</span>     <span class="o">-</span><span class="mf">1.611</span>      <span class="mf">0.107</span>    <span class="p">[</span> <span class="o">-</span><span class="mf">0.153</span><span class="p">,</span><span class="mf">1.498e-02</span><span class="p">]</span>
<span class="n">CPILFESL</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>    <span class="o">-</span><span class="mf">0.0266</span>  <span class="mf">1.517e-02</span>     <span class="o">-</span><span class="mf">1.751</span>  <span class="mf">7.988e-02</span> <span class="p">[</span><span class="o">-</span><span class="mf">5.631e-02</span><span class="p">,</span><span class="mf">3.164e-03</span><span class="p">]</span>
                              <span class="n">Volatility</span> <span class="n">Model</span>
<span class="o">============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>      <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">omega</span>          <span class="mf">0.0116</span>  <span class="mf">3.154e-03</span>      <span class="mf">3.667</span>  <span class="mf">2.450e-04</span> <span class="p">[</span><span class="mf">5.385e-03</span><span class="p">,</span><span class="mf">1.775e-02</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>       <span class="mf">0.1694</span>  <span class="mf">5.287e-02</span>      <span class="mf">3.203</span>  <span class="mf">1.360e-03</span>   <span class="p">[</span><span class="mf">6.572e-02</span><span class="p">,</span>  <span class="mf">0.273</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>       <span class="mf">0.2183</span>  <span class="mf">6.640e-02</span>      <span class="mf">3.287</span>  <span class="mf">1.012e-03</span>   <span class="p">[</span><span class="mf">8.813e-02</span><span class="p">,</span>  <span class="mf">0.348</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>       <span class="mf">0.1365</span>  <span class="mf">6.913e-02</span>      <span class="mf">1.975</span>  <span class="mf">4.828e-02</span>   <span class="p">[</span><span class="mf">1.034e-03</span><span class="p">,</span>  <span class="mf">0.272</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>       <span class="mf">0.2172</span>  <span class="mf">7.724e-02</span>      <span class="mf">2.813</span>  <span class="mf">4.916e-03</span>   <span class="p">[</span><span class="mf">6.585e-02</span><span class="p">,</span>  <span class="mf">0.369</span><span class="p">]</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>       <span class="mf">0.1618</span>  <span class="mf">8.628e-02</span>      <span class="mf">1.875</span>  <span class="mf">6.075e-02</span>  <span class="p">[</span><span class="o">-</span><span class="mf">7.302e-03</span><span class="p">,</span>  <span class="mf">0.331</span><span class="p">]</span>
                              <span class="n">Distribution</span>
<span class="o">========================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">t</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">t</span><span class="o">|</span>  <span class="mf">95.0</span><span class="o">%</span> <span class="n">Conf</span><span class="o">.</span> <span class="n">Int</span><span class="o">.</span>
<span class="o">------------------------------------------------------------------------</span>
<span class="n">nu</span>             <span class="mf">9.0750</span>      <span class="mf">3.810</span>      <span class="mf">2.382</span>  <span class="mf">1.722e-02</span> <span class="p">[</span>  <span class="mf">1.608</span><span class="p">,</span> <span class="mf">16.542</span><span class="p">]</span>
<span class="o">========================================================================</span>

<span class="n">Covariance</span> <span class="n">estimator</span><span class="p">:</span> <span class="n">robust</span>
</pre></div>
</div>
<div class="section" id="wti-crude">
<h3>WTI Crude<a class="headerlink" href="#wti-crude" title="Permalink to this headline">¶</a></h3>
<p>The next example uses West Texas Intermediate Crude data from FRED.
Theee models are fit using alternative distributional assumptions. The
results are printed, where we can see that the normal has a much lower
log-likelihood than either the Standard Student's T or the Standardized
Skew Student's T -- however, these two are fairly close. The closeness
ff the T and the Skew T indicate that returns are not heavily skewed.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">OrderedDict</span>
<span class="n">crude</span><span class="o">=</span><span class="n">web</span><span class="o">.</span><span class="n">get_data_fred</span><span class="p">(</span><span class="s1">&#39;DCOILWTICO&#39;</span><span class="p">,</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">crude_ret</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">crude</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">res_normal</span> <span class="o">=</span> <span class="n">arch_model</span><span class="p">(</span><span class="n">crude_ret</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">res_t</span> <span class="o">=</span> <span class="n">arch_model</span><span class="p">(</span><span class="n">crude_ret</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">res_skewt</span> <span class="o">=</span> <span class="n">arch_model</span><span class="p">(</span><span class="n">crude_ret</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="s1">&#39;skewt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">lls</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">(((</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">res_normal</span><span class="o">.</span><span class="n">loglikelihood</span><span class="p">),</span>
                 <span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">res_t</span><span class="o">.</span><span class="n">loglikelihood</span><span class="p">),</span>
                 <span class="p">(</span><span class="s1">&#39;skewt&#39;</span><span class="p">,</span> <span class="n">res_skewt</span><span class="o">.</span><span class="n">loglikelihood</span><span class="p">))))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lls</span><span class="p">)</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">(((</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">res_normal</span><span class="o">.</span><span class="n">params</span><span class="p">),</span>
                 <span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">res_t</span><span class="o">.</span><span class="n">params</span><span class="p">),</span>
                 <span class="p">(</span><span class="s1">&#39;skewt&#39;</span><span class="p">,</span> <span class="n">res_skewt</span><span class="o">.</span><span class="n">params</span><span class="p">))))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">normal</span>   <span class="o">-</span><span class="mf">8227.359031</span>
<span class="n">t</span>        <span class="o">-</span><span class="mf">8128.534732</span>
<span class="n">skewt</span>    <span class="o">-</span><span class="mf">8126.303934</span>
<span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
            <span class="n">normal</span>         <span class="n">t</span>     <span class="n">skewt</span>
<span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="mf">0.054488</span>  <span class="mf">0.046069</span>  <span class="mf">0.045908</span>
<span class="n">beta</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>   <span class="mf">0.940953</span>  <span class="mf">0.949954</span>  <span class="mf">0.950364</span>
<span class="k">lambda</span>         <span class="n">NaN</span>       <span class="n">NaN</span> <span class="o">-</span><span class="mf">0.048593</span>
<span class="n">mu</span>        <span class="mf">0.065643</span>  <span class="mf">0.076392</span>  <span class="mf">0.057599</span>
<span class="n">nu</span>             <span class="n">NaN</span>  <span class="mf">6.841493</span>  <span class="mf">6.889730</span>
<span class="n">omega</span>     <span class="mf">0.034733</span>  <span class="mf">0.026497</span>  <span class="mf">0.025239</span>
</pre></div>
</div>
<p>The standardized residuals can be computed by dividing the residuals by
the conditional volatility. These are plotted along with the
(unstandardized, but scaled) residuals. The non-standardized residuals
are more peaked in the center indicating that the distribution is
somewhat more heavy tailed than that of the standardized residuals.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">std_resid</span> <span class="o">=</span> <span class="n">res_normal</span><span class="o">.</span><span class="n">resid</span> <span class="o">/</span> <span class="n">res_normal</span><span class="o">.</span><span class="n">conditional_volatility</span>
<span class="n">unit_var_resid</span> <span class="o">=</span> <span class="n">res_normal</span><span class="o">.</span><span class="n">resid</span> <span class="o">/</span> <span class="n">res_normal</span><span class="o">.</span><span class="n">resid</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">std_resid</span><span class="p">,</span> <span class="n">unit_var_resid</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Std Resids&#39;</span><span class="p">,</span> <span class="s1">&#39;Unit Variance Resids&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x1d0b364cc18</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/output_44_1.png" src="../_images/output_44_1.png" />
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="introduction.html" title="previous chapter (use the left arrow)">Introduction to ARCH Models</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="forecasting.html" title="next chapter (use the right arrow)">Forecasting</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="forecasting.html" title="Forecasting"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction to ARCH Models"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">arch 4.0+21.g822563f documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="univariate.html" >Univariate Volatility Models</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2017, Kevin Sheppard. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>